$(document).ready(function() {
  /**
   * Toggle fullscreen
   */
  $('body').on('click touch', '[data-toggle=fullscreen]', function(e) {
    e.preventDefault();

    if ((document.fullScreenElement && document.fullScreenElement !== null) || (!document.mozFullScreen && !document.webkitIsFullScreen)) {
      let success = false;

      if (document.documentElement.requestFullScreen) {
        success = true;

        document.documentElement.requestFullScreen()
      } else if (document.documentElement.mozRequestFullScreen) {
        success = true;

        document.documentElement.mozRequestFullScreen()
      } else if (document.documentElement.webkitRequestFullScreen) {
        success = true;

        document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)
      }

      if (success) {
        $(this).find('.mdi').removeClass('mdi-fullscreen').addClass('mdi-fullscreen-exit')
      }
    } else {
      let success = false;

      if (document.cancelFullScreen) {
        success = true;

        document.cancelFullScreen()
      } else if (document.mozCancelFullScreen) {
        success = true;

        document.mozCancelFullScreen()
      } else if (document.webkitCancelFullScreen) {
        success = true;

        document.webkitCancelFullScreen()
      }

      if (success) {
        $(this).find('.mdi').removeClass('mdi-fullscreen-exit').addClass('mdi-fullscreen')
      }
    }
  });
});

/**
 * Include your function into afterCall to run it after ajax call
 */
afterCall.push(function() {
  // Sample of afterCall usage
  if ($('input[name=layer_type]').length) {
    $('input[name=layer_type]').trigger('change')
  }
})
